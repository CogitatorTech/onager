{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Onager","text":"<p>Onager is a DuckDB extension for graph analytics in SQL. It provides graph algorithms and a graph registry that operate directly on edge tables \u2014 no external graph database required.</p> <p>Powered by the graphina Rust library.</p>"},{"location":"#why-onager","title":"Why Onager?","text":"<ul> <li>SQL-Native: Run graph algorithms directly on your DuckDB tables</li> <li>No ETL Required: Your edge data stays in DuckDB \u2014 no export needed</li> <li>High Performance: Rust-powered algorithms with parallel execution</li> <li>Easy Integration: <code>select * from onager_ctr_pagerank((select src, dst from edges))</code></li> </ul>"},{"location":"#quick-example","title":"Quick Example","text":"<pre><code>-- Create edge data\ncreate table edges as\nselect *\nfrom (values (1::bigint, 2::bigint),\n             (2, 3),\n             (3, 1),\n             (3, 4)) t(src, dst);\n\n-- Compute PageRank\nselect *\nfrom onager_ctr_pagerank((select src, dst from edges));\n\n-- Detect communities\nselect *\nfrom onager_cmm_louvain((select src, dst from edges));\n\n-- Generate random graphs\nselect *\nfrom onager_gen_erdos_renyi(100, 0.1, seed := 42);\n</code></pre>"},{"location":"#available-features","title":"Available Features","text":"Category Functions Centrality pagerank, personalized_pagerank, degree, betweenness, closeness, eigenvector, katz, harmonic Community louvain, components, label_prop, girvan_newman, spectral, infomap Link Prediction jaccard, adamic_adar, pref_attach, resource_alloc Metrics diameter, radius, avg_clustering, avg_path_length, transitivity, assortativity Traversal dijkstra, bfs, dfs Generators erdos_renyi, barabasi_albert, watts_strogatz Subgraphs ego_graph, k_hop_neighbors, induced_subgraph Parallel pagerank, bfs, shortest_paths, components, clustering, triangles Graph Registry create_graph, drop_graph, add_node, add_edge, list_graphs, node_count, edge_count, node_in_degree, node_out_degree"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Getting Started</li> <li>Graph Registry</li> <li>SQL Function Reference</li> <li>GitHub Repository</li> </ul>"},{"location":"examples/analytics/","title":"Analytics Examples","text":""},{"location":"examples/analytics/#social-network-analysis","title":"Social Network Analysis","text":""},{"location":"examples/analytics/#finding-influencers","title":"Finding Influencers","text":"<p>Use PageRank and degree centrality to identify influential users:</p> <pre><code>-- Create social network edges\ncreate table follows as select * from (values\n  (1, 2), (1, 3), (2, 3), (3, 4), (4, 5), (5, 1), (2, 4), (3, 5)\n) t(follower, followed);\n\n-- Find top influencers by PageRank\nselect node_id as user_id, rank\nfrom onager_ctr_pagerank((select follower as src, followed as dst from follows))\norder by rank desc\nlimit 5;\n\n-- Combine multiple centrality metrics\nwith centralities as (\n  select p.node_id, p.rank as pagerank, d.in_degree\n  from onager_ctr_pagerank((select follower as src, followed as dst from follows)) p\n  join onager_ctr_degree((select follower as src, followed as dst from follows)) d\n    on p.node_id = d.node_id\n)\nselect *, (pagerank + in_degree/10) as combined_score\nfrom centralities\norder by combined_score desc;\n</code></pre>"},{"location":"examples/analytics/#community-detection","title":"Community Detection","text":"<p>Find groups of tightly-connected users:</p> <pre><code>-- Detect communities with Louvain\nselect node_id as user_id, community\nfrom onager_cmm_louvain((select follower as src, followed as dst from follows));\n\n-- Count users per community\nselect community, count(*) as size\nfrom onager_cmm_louvain((select follower as src, followed as dst from follows))\ngroup by community\norder by size desc;\n</code></pre>"},{"location":"examples/analytics/#fraud-detection","title":"Fraud Detection","text":""},{"location":"examples/analytics/#ring-detection-with-clustering","title":"Ring Detection with Clustering","text":"<p>High local clustering may indicate coordinated behavior:</p> <pre><code>create table transactions as select * from (values\n  (100, 200), (200, 300), (300, 100), -- Triangle (suspicious)\n  (400, 500), (500, 600)               -- Normal chain\n) t(sender, receiver);\n\n-- Find nodes with high clustering (potential fraud rings)\nselect node_id as account, coefficient\nfrom onager_par_clustering((select sender as src, receiver as dst from transactions))\nwhere coefficient &gt; 0.5;\n\n-- Count triangles per account\nselect node_id as account, triangles\nfrom onager_par_triangles((select sender as src, receiver as dst from transactions))\nwhere triangles &gt; 0;\n</code></pre>"},{"location":"examples/analytics/#recommendation-systems","title":"Recommendation Systems","text":""},{"location":"examples/analytics/#personalized-pagerank-for-recommendations","title":"Personalized PageRank for Recommendations","text":"<pre><code>-- User interaction graph\ncreate table interactions as select * from (values\n  (1, 10), (1, 20), (2, 10), (2, 30), (3, 20), (3, 30)\n) t(user_id, item_id);\n\n-- Create edges (user-item bipartite graph)\ncreate table edges as\n  select user_id as src, item_id + 1000 as dst from interactions;\n\n-- Recommend items for user 1 based on their interactions\n-- Using ego graph to explore local neighborhood\nselect *\nfrom onager_sub_k_hop_neighbors(edges, start := 1, k := 2)\nwhere node_id &gt; 1000;  -- Filter to items only\n</code></pre>"},{"location":"examples/analytics/#network-health-metrics","title":"Network Health Metrics","text":""},{"location":"examples/analytics/#comprehensive-network-summary","title":"Comprehensive Network Summary","text":"<pre><code>-- Get network health metrics\nselect 'Diameter' as metric, diameter as value\nfrom onager_mtr_diameter((select src, dst from edges))\nunion all\nselect 'Radius', radius\nfrom onager_mtr_radius((select src, dst from edges))\nunion all\nselect 'Avg Clustering', avg_clustering\nfrom onager_mtr_avg_clustering((select src, dst from edges))\nunion all\nselect 'Transitivity', transitivity\nfrom onager_mtr_transitivity((select src, dst from edges))\nunion all\nselect 'Assortativity', assortativity\nfrom onager_mtr_assortativity((select src, dst from edges));\n</code></pre>"},{"location":"examples/basic/","title":"Basic Usage","text":"<p>This example shows basic graph analytics workflows.</p>"},{"location":"examples/basic/#setup","title":"Setup","text":"<pre><code>-- Create a sample social network\ncreate table social_edges as\nselect *\nfrom (values (1::bigint, 2::bigint),\n             (1, 3),\n             (2, 3),\n             (2, 4),\n             (3, 4),\n             (3, 5),\n             (4, 5),\n             (5, 6)) t(user_from, user_to);\n</code></pre>"},{"location":"examples/basic/#find-key-influencers","title":"Find Key Influencers","text":"<pre><code>select *\nfrom onager_ctr_pagerank((select user_from, user_to from social_edges))\norder by rank desc;\n</code></pre>"},{"location":"examples/basic/#detect-communities","title":"Detect Communities","text":"<pre><code>select *\nfrom onager_cmm_louvain((select user_from, user_to from social_edges));\n</code></pre>"},{"location":"examples/basic/#check-network-connectivity","title":"Check Network Connectivity","text":"<pre><code>-- How many connected components?\nselect count(distinct component) as num_components\nfrom onager_cmm_components((select user_from, user_to from social_edges));\n</code></pre>"},{"location":"examples/basic/#measure-network-structure","title":"Measure Network Structure","text":"<pre><code>select diameter,\n       (select avg_clustering\n        from onager_mtr_avg_clustering((select user_from, user_to from social_edges))) as clustering\nfrom onager_mtr_diameter((select user_from, user_to from social_edges));\n</code></pre>"},{"location":"examples/basic/#generate-test-data","title":"Generate Test Data","text":"<pre><code>-- Create a larger random network for testing\ncreate table test_network as\nselect *\nfrom onager_gen_erdos_renyi(500, 0.02, seed := 42);\n\n-- Analyze it\nselect count(*) as edge_count\nfrom test_network;\n</code></pre>"},{"location":"examples/centrality/","title":"Centrality Analysis Example","text":""},{"location":"examples/centrality/#finding-influential-nodes-in-a-network","title":"Finding Influential Nodes in a Network","text":"<pre><code>-- Create a citation network\ncreate table citations as select * from (values\n  (1::bigint, 2::bigint), (1, 3), (2, 4), (2, 5),\n  (3, 4), (3, 6), (4, 7), (5, 7),\n  (6, 7), (7, 8), (7, 9), (8, 10), (9, 10)\n) t(paper_from, paper_to);\n\n-- PageRank: overall importance\nselect * from onager_ctr_pagerank((select paper_from, paper_to from citations))\norder by rank desc limit 5;\n\n-- Betweenness: information brokers\nselect * from onager_ctr_betweenness((select paper_from, paper_to from citations))\norder by betweenness desc limit 5;\n\n-- Degree: most connected\nselect * from onager_ctr_degree((select paper_from, paper_to from citations))\norder by in_degree + out_degree desc limit 5;\n</code></pre>"},{"location":"examples/centrality/#comparing-centrality-measures","title":"Comparing Centrality Measures","text":"<pre><code>with\n  pr as (select node_id, rank from onager_ctr_pagerank((select paper_from, paper_to from citations))),\n  bt as (select node_id, betweenness from onager_ctr_betweenness((select paper_from, paper_to from citations))),\n  dg as (select node_id, in_degree + out_degree as total_degree from onager_ctr_degree((select paper_from, paper_to from citations)))\nselect pr.node_id, pr.rank, bt.betweenness, dg.total_degree\nfrom pr\njoin bt on pr.node_id = bt.node_id\njoin dg on pr.node_id = dg.node_id\norder by pr.rank desc;\n</code></pre>"},{"location":"examples/community/","title":"Community Detection Example","text":""},{"location":"examples/community/#segmenting-users","title":"Segmenting Users","text":"<pre><code>-- Social connections\ncreate table friendships as select * from (values\n  -- Group 1: Tight-knit friends\n  (1::bigint, 2::bigint), (1, 3), (2, 3),\n  -- Group 2: Work colleagues  \n  (4::bigint, 5::bigint), (4, 6), (5, 6), (5, 7), (6, 7),\n  -- Bridge between groups\n  (3, 4)\n) t(user1, user2);\n\n-- Detect communities\nselect * from onager_cmm_louvain((select user1, user2 from friendships))\norder by community, node_id;\n</code></pre>"},{"location":"examples/community/#analyzing-community-structure","title":"Analyzing Community Structure","text":"<pre><code>with communities as (\n  select * from onager_cmm_louvain((select user1, user2 from friendships))\n)\nselect\n  community,\n  count(*) as members,\n  array_agg(node_id order by node_id) as member_list\nfrom communities\ngroup by community\norder by members desc;\n</code></pre>"},{"location":"examples/community/#label-propagation-faster-alternative","title":"Label Propagation (Faster Alternative)","text":"<pre><code>select * from onager_cmm_label_prop((select user1, user2 from friendships));\n</code></pre>"},{"location":"examples/links/","title":"Link Prediction Example","text":""},{"location":"examples/links/#friend-recommendations","title":"Friend Recommendations","text":"<pre><code>-- Current friendships\ncreate table current_friends as select * from (values\n  (1::bigint, 2::bigint), (1, 3), (2, 3), (2, 4),\n  (3, 5), (4, 5), (4, 6), (5, 6)\n) t(user1, user2);\n\n-- Predict new friendships using Adamic-Adar\nselect node1, node2, score\nfrom onager_lnk_adamic_adar((select user1, user2 from current_friends))\nwhere score &gt; 0\norder by score desc\nlimit 10;\n</code></pre>"},{"location":"examples/links/#comparing-prediction-methods","title":"Comparing Prediction Methods","text":"<pre><code>with\n  aa as (select node1, node2, score as adamic_adar from onager_lnk_adamic_adar((select user1, user2 from current_friends))),\n  jc as (select node1, node2, jaccard from onager_lnk_jaccard((select user1, user2 from current_friends))),\n  pa as (select node1, node2, score as pref_attach from onager_lnk_pref_attach((select user1, user2 from current_friends)))\nselect aa.node1, aa.node2, aa.adamic_adar, jc.jaccard, pa.pref_attach\nfrom aa\njoin jc on aa.node1 = jc.node1 and aa.node2 = jc.node2\njoin pa on aa.node1 = pa.node1 and aa.node2 = pa.node2\norder by aa.adamic_adar desc\nlimit 10;\n</code></pre>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#building-from-source","title":"Building from Source","text":"<p>Onager is built as a DuckDB extension. Clone and build:</p> <pre><code>git clone --recursive https://github.com/CogitatorTech/onager.git\ncd onager\nmake release\n</code></pre> <p>This creates a DuckDB binary with Onager built-in at <code>./build/release/duckdb</code>.</p>"},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"<ul> <li>Rust 1.70+ (for building the graph algorithms)</li> <li>CMake 3.15+</li> <li>C++ compiler with C++17 support</li> <li>Make</li> </ul>"},{"location":"getting-started/installation/#linuxmacos","title":"Linux/macOS","text":"<pre><code># Install Rust\ncurl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\n\n# Ubuntu/Debian\nsudo apt install build-essential cmake\n\n# macOS\nxcode-select --install\nbrew install cmake\n</code></pre>"},{"location":"getting-started/installation/#verifying-installation","title":"Verifying Installation","text":"<pre><code>./build/release/duckdb -c \"select onager_version();\"\n</code></pre> <p>Should output:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 onager_version() \u2502\n\u2502     varchar      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 0.1.0-alpha.1    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":"<p>Get up and running with Onager in 5 minutes.</p>"},{"location":"getting-started/quickstart/#1-start-duckdb-with-onager","title":"1. Start DuckDB with Onager","text":"<pre><code>./build/release/duckdb\n</code></pre>"},{"location":"getting-started/quickstart/#2-create-edge-data","title":"2. Create Edge Data","text":"<p>Onager works with edge tables \u2014 any table with two columns representing source and destination nodes:</p> <pre><code>create table edges as select * from (values\n  (1::bigint, 2::bigint),\n  (2, 3),\n  (3, 1),\n  (3, 4),\n  (4, 5)\n) t(src, dst);\n</code></pre>"},{"location":"getting-started/quickstart/#3-run-graph-algorithms","title":"3. Run Graph Algorithms","text":""},{"location":"getting-started/quickstart/#pagerank","title":"PageRank","text":"<pre><code>select * from onager_ctr_pagerank((select src, dst from edges));\n</code></pre> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 node_id \u2502        rank        \u2502\n\u2502  int64  \u2502       double       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502       1 \u2502 0.2156862745098039 \u2502\n\u2502       2 \u2502 0.1568627450980392 \u2502\n\u2502       3 \u2502 0.2549019607843137 \u2502\n\u2502       4 \u2502 0.2156862745098039 \u2502\n\u2502       5 \u2502 0.1568627450980392 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"getting-started/quickstart/#community-detection","title":"Community Detection","text":"<pre><code>select * from onager_cmm_louvain((select src, dst from edges));\n</code></pre>"},{"location":"getting-started/quickstart/#graph-diameter","title":"Graph Diameter","text":"<pre><code>select * from onager_mtr_diameter((select src, dst from edges));\n</code></pre>"},{"location":"getting-started/quickstart/#4-generate-test-graphs","title":"4. Generate Test Graphs","text":"<pre><code>-- Random graph with 100 nodes, 10% edge probability\nselect * from onager_gen_erdos_renyi(100, 0.1, seed := 42) limit 5;\n</code></pre>"},{"location":"getting-started/quickstart/#input-format","title":"Input Format","text":"<p>All analysis functions accept edge data as:</p> <ul> <li>Column 1: Source node (<code>bigint</code>)</li> <li>Column 2: Destination node (<code>bigint</code>)</li> </ul> <p>Use a subquery to select the edge columns:</p> <pre><code>-- From any table with edge data\nselect * from onager_ctr_pagerank((\n  select from_user, to_user from follows\n));\n</code></pre>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>Centrality Algorithms</li> <li>Community Detection</li> <li>SQL Function Reference</li> </ul>"},{"location":"guide/centrality/","title":"Centrality Algorithms","text":"<p>Centrality measures identify the most important nodes in a graph. Onager provides 7 centrality algorithms.</p>"},{"location":"guide/centrality/#pagerank","title":"PageRank","text":"<p>Measures node importance based on the link structure of the graph.</p> <pre><code>select * from onager_ctr_pagerank((select src, dst from edges));\n</code></pre> Column Type Description node_id bigint Node identifier rank double PageRank score (higher = more important)"},{"location":"guide/centrality/#degree-centrality","title":"Degree Centrality","text":"<p>Counts incoming and outgoing edges per node.</p> <pre><code>select * from onager_ctr_degree((select src, dst from edges));\n</code></pre> Column Type Description node_id bigint Node identifier in_degree double Number of incoming edges out_degree double Number of outgoing edges"},{"location":"guide/centrality/#betweenness-centrality","title":"Betweenness Centrality","text":"<p>Measures how often a node lies on shortest paths between other nodes.</p> <pre><code>select * from onager_ctr_betweenness((select src, dst from edges));\n</code></pre>"},{"location":"guide/centrality/#closeness-centrality","title":"Closeness Centrality","text":"<p>Measures the average distance from a node to all other nodes.</p> <pre><code>select * from onager_ctr_closeness((select src, dst from edges));\n</code></pre>"},{"location":"guide/centrality/#eigenvector-centrality","title":"Eigenvector Centrality","text":"<p>A node is important if it's connected to other important nodes.</p> <pre><code>select * from onager_ctr_eigenvector((select src, dst from edges));\n</code></pre>"},{"location":"guide/centrality/#katz-centrality","title":"Katz Centrality","text":"<p>Similar to eigenvector but accounts for all walks in the graph.</p> <pre><code>select * from onager_ctr_katz((select src, dst from edges));\n</code></pre>"},{"location":"guide/centrality/#harmonic-centrality","title":"Harmonic Centrality","text":"<p>Variant of closeness that handles disconnected graphs better.</p> <pre><code>select * from onager_ctr_harmonic((select src, dst from edges));\n</code></pre>"},{"location":"guide/centrality/#example-find-top-influencers","title":"Example: Find Top Influencers","text":"<pre><code>select * from onager_ctr_pagerank((select src, dst from edges))\norder by rank desc\nlimit 10;\n</code></pre>"},{"location":"guide/community/","title":"Community Detection","text":"<p>Community detection algorithms identify groups of densely connected nodes.</p>"},{"location":"guide/community/#louvain-algorithm","title":"Louvain Algorithm","text":"<p>The Louvain algorithm optimizes modularity to find communities.</p> <pre><code>select * from onager_cmm_louvain((select src, dst from edges));\n</code></pre> Column Type Description node_id bigint Node identifier community bigint Community ID this node belongs to"},{"location":"guide/community/#optional-set-random-seed","title":"Optional: Set Random Seed","text":"<pre><code>select * from onager_cmm_louvain((select src, dst from edges), seed := 42);\n</code></pre>"},{"location":"guide/community/#connected-components","title":"Connected Components","text":"<p>Find groups of nodes that are reachable from each other.</p> <pre><code>select * from onager_cmm_components((select src, dst from edges));\n</code></pre> Column Type Description node_id bigint Node identifier component bigint Component ID"},{"location":"guide/community/#label-propagation","title":"Label Propagation","text":"<p>Fast community detection by propagating labels through the network.</p> <pre><code>select * from onager_cmm_label_prop((select src, dst from edges));\n</code></pre> Column Type Description node_id bigint Node identifier label bigint Community label"},{"location":"guide/community/#example-analyze-community-sizes","title":"Example: Analyze Community Sizes","text":"<pre><code>with communities as (\n  select * from onager_cmm_louvain((select src, dst from edges))\n)\nselect community, count(*) as size\nfrom communities\ngroup by community\norder by size desc;\n</code></pre>"},{"location":"guide/generators/","title":"Graph Generators","text":"<p>Generate synthetic graphs for testing and benchmarking.</p>"},{"location":"guide/generators/#erdos-renyi-random-graph","title":"Erd\u0151s-R\u00e9nyi Random Graph","text":"<p>Generate a random graph where each edge exists with probability <code>p</code>.</p> <pre><code>select * from onager_gen_erdos_renyi(n, p, seed := 42);\n</code></pre> Parameter Type Description n bigint Number of nodes p double Edge probability (0.0 to 1.0) seed bigint Random seed (optional)"},{"location":"guide/generators/#example","title":"Example","text":"<pre><code>-- 100 nodes, 10% edge probability\nselect * from onager_gen_erdos_renyi(100, 0.1, seed := 42) limit 5;\n</code></pre>"},{"location":"guide/generators/#barabasi-albert-scale-free","title":"Barab\u00e1si-Albert (Scale-Free)","text":"<p>Generate a scale-free graph using preferential attachment.</p> <pre><code>select * from onager_gen_barabasi_albert(n, m, seed := 42);\n</code></pre> Parameter Type Description n bigint Number of nodes m bigint Edges per new node seed bigint Random seed (optional)"},{"location":"guide/generators/#example_1","title":"Example","text":"<pre><code>-- 100 nodes, 3 edges per new node\nselect * from onager_gen_barabasi_albert(100, 3, seed := 42);\n</code></pre>"},{"location":"guide/generators/#watts-strogatz-small-world","title":"Watts-Strogatz (Small-World)","text":"<p>Generate a small-world graph with high clustering and short paths.</p> <pre><code>select * from onager_gen_watts_strogatz(n, k, beta, seed := 42);\n</code></pre> Parameter Type Description n bigint Number of nodes k bigint Each node connected to k nearest neighbors (must be even) beta double Rewiring probability (0.0 to 1.0) seed bigint Random seed (optional)"},{"location":"guide/generators/#example_2","title":"Example","text":"<pre><code>-- 100 nodes, 4 neighbors, 30% rewiring\nselect * from onager_gen_watts_strogatz(100, 4, 0.3, seed := 42);\n</code></pre>"},{"location":"guide/generators/#saving-generated-graphs","title":"Saving Generated Graphs","text":"<pre><code>create table my_graph as\nselect * from onager_gen_erdos_renyi(1000, 0.05, seed := 123);\n</code></pre>"},{"location":"guide/graph-registry/","title":"Graph Registry","text":"<p>Onager provides an in-memory graph registry that stores named graphs for efficient repeated queries.</p>"},{"location":"guide/graph-registry/#when-to-use-the-registry","title":"When to Use the Registry","text":"<ul> <li>Multiple queries on same data: Store once, query many times</li> <li>Scalar node queries: Get degree, check existence</li> <li>Session-persistent graphs: Graphs persist for database session lifetime</li> </ul>"},{"location":"guide/graph-registry/#creating-graphs","title":"Creating Graphs","text":"<pre><code>-- Create a directed graph\nselect onager_create_graph('social', true);\n\n-- Create an undirected graph\nselect onager_create_graph('network', false);\n</code></pre>"},{"location":"guide/graph-registry/#adding-data","title":"Adding Data","text":"<pre><code>-- Add nodes\nselect onager_add_node('social', 1);\nselect onager_add_node('social', 2);\nselect onager_add_node('social', 3);\n\n-- Add edges (with weights)\nselect onager_add_edge('social', 1, 2, 1.0);\nselect onager_add_edge('social', 1, 3, 0.5);\nselect onager_add_edge('social', 2, 3, 1.0);\n</code></pre>"},{"location":"guide/graph-registry/#querying-graphs","title":"Querying Graphs","text":"<pre><code>-- Get graph statistics\nselect onager_node_count('social');  -- 3\nselect onager_edge_count('social');  -- 3\n\n-- Query node degrees\nselect onager_node_in_degree('social', 3);   -- 2 (from nodes 1 and 2)\nselect onager_node_out_degree('social', 1);  -- 2 (to nodes 2 and 3)\n</code></pre>"},{"location":"guide/graph-registry/#managing-graphs","title":"Managing Graphs","text":"<pre><code>-- List all graphs\nselect onager_list_graphs();  -- '[\"social\", \"network\"]'\n\n-- Delete a graph\nselect onager_drop_graph('social');\n</code></pre>"},{"location":"guide/graph-registry/#graph-registry-vs-table-functions","title":"Graph Registry vs Table Functions","text":"Feature Graph Registry Table Functions Data storage In-memory Per-query Query type Scalar (single values) Table (result sets) Best for Point queries, repeated access One-time analysis Example <code>onager_node_in_degree('g', 1)</code> <code>onager_ctr_pagerank(edges)</code>"},{"location":"guide/graph-registry/#example-social-network-analysis","title":"Example: Social Network Analysis","text":"<pre><code>-- Setup\nselect onager_create_graph('friends', true);\n\n-- Bulk load from table\nselect onager_add_node('friends', user_id) from users;\nselect onager_add_edge('friends', follower_id, followed_id, 1.0) from follows;\n\n-- Query influential users (high out-degree)\nselect user_id, onager_node_out_degree('friends', user_id) as followers\nfrom users\norder by followers desc\nlimit 10;\n\n-- Cleanup\nselect onager_drop_graph('friends');\n</code></pre>"},{"location":"guide/links/","title":"Link Prediction","text":"<p>Link prediction algorithms predict which unconnected nodes are likely to become connected.</p>"},{"location":"guide/links/#jaccard-coefficient","title":"Jaccard Coefficient","text":"<p>Measures similarity based on common neighbors.</p> <pre><code>select * from onager_lnk_jaccard((select src, dst from edges));\n</code></pre> Column Type Description node1 bigint First node node2 bigint Second node jaccard double Jaccard similarity (0-1, higher = more similar)"},{"location":"guide/links/#adamic-adar-index","title":"Adamic-Adar Index","text":"<p>Weights common neighbors by the inverse log of their degree.</p> <pre><code>select * from onager_lnk_adamic_adar((select src, dst from edges));\n</code></pre>"},{"location":"guide/links/#preferential-attachment","title":"Preferential Attachment","text":"<p>Based on the idea that well-connected nodes attract more connections.</p> <pre><code>select * from onager_lnk_pref_attach((select src, dst from edges));\n</code></pre>"},{"location":"guide/links/#resource-allocation","title":"Resource Allocation","text":"<p>Similar to Adamic-Adar but with inverse degree (not log).</p> <pre><code>select * from onager_lnk_resource_alloc((select src, dst from edges));\n</code></pre>"},{"location":"guide/links/#example-top-predicted-links","title":"Example: Top Predicted Links","text":"<pre><code>select * from onager_lnk_adamic_adar((select src, dst from edges))\norder by score desc\nlimit 20;\n</code></pre>"},{"location":"guide/metrics/","title":"Graph Metrics","text":"<p>Graph-level metrics that describe the overall structure of the network.</p>"},{"location":"guide/metrics/#diameter","title":"Diameter","text":"<p>The longest shortest path in the graph.</p> <pre><code>select * from onager_mtr_diameter((select src, dst from edges));\n</code></pre> <p>Returns a single row with the diameter value.</p>"},{"location":"guide/metrics/#radius","title":"Radius","text":"<p>The minimum eccentricity (distance to furthest node) across all nodes.</p> <pre><code>select * from onager_mtr_radius((select src, dst from edges));\n</code></pre>"},{"location":"guide/metrics/#average-clustering-coefficient","title":"Average Clustering Coefficient","text":"<p>Measures how much nodes tend to cluster together.</p> <pre><code>select * from onager_mtr_avg_clustering((select src, dst from edges));\n</code></pre> <p>Returns a value between 0 and 1. Higher values indicate more clustering.</p>"},{"location":"guide/metrics/#average-path-length","title":"Average Path Length","text":"<p>The average shortest path distance between all pairs of nodes.</p> <pre><code>select * from onager_mtr_avg_path_length((select src, dst from edges));\n</code></pre>"},{"location":"guide/metrics/#transitivity","title":"Transitivity","text":"<p>Global clustering coefficient \u2014 ratio of triangles to connected triples.</p> <pre><code>select * from onager_mtr_transitivity((select src, dst from edges));\n</code></pre>"},{"location":"guide/metrics/#example-network-summary","title":"Example: Network Summary","text":"<pre><code>select\n  (select diameter from onager_mtr_diameter((select src, dst from edges))) as diameter,\n  (select radius from onager_mtr_radius((select src, dst from edges))) as radius,\n  (select avg_clustering from onager_mtr_avg_clustering((select src, dst from edges))) as clustering,\n  (select transitivity from onager_mtr_transitivity((select src, dst from edges))) as transitivity;\n</code></pre>"},{"location":"guide/parallel/","title":"Parallel Algorithms","text":"<p>Onager provides parallel implementations of common graph algorithms that leverage multiple CPU cores for improved performance on large graphs.</p>"},{"location":"guide/parallel/#when-to-use-parallel-algorithms","title":"When to Use Parallel Algorithms","text":"<p>Use parallel versions when:</p> <ul> <li>Your graph has 1M+ edges</li> <li>You're running algorithms on multiple sources</li> <li>Your workload is CPU-bound</li> </ul> <p>For smaller graphs, the sequential versions may be faster due to reduced overhead.</p>"},{"location":"guide/parallel/#parallel-bfs","title":"Parallel BFS","text":"<p>Multi-threaded breadth-first search:</p> <pre><code>-- Parallel BFS from node 1\nselect *\nfrom onager_par_bfs((select src, dst from edges), source := 1);\n</code></pre> Column Type Description node_id bigint Nodes in BFS traversal order"},{"location":"guide/parallel/#parallel-shortest-paths","title":"Parallel Shortest Paths","text":"<p>Parallel single-source shortest paths:</p> <pre><code>select *\nfrom onager_par_shortest_paths((select src, dst from edges), source := 1);\n</code></pre> Column Type Description node_id bigint Target node distance double Distance from source"},{"location":"guide/parallel/#parallel-connected-components","title":"Parallel Connected Components","text":"<p>Find connected components using parallel union-find:</p> <pre><code>select * from onager_par_components((select src, dst from edges));\n</code></pre> Column Type Description node_id bigint Node identifier component bigint Component identifier"},{"location":"guide/parallel/#parallel-clustering-coefficients","title":"Parallel Clustering Coefficients","text":"<p>Compute local clustering coefficients in parallel:</p> <pre><code>select * from onager_par_clustering((select src, dst from edges));\n</code></pre> Column Type Description node_id bigint Node identifier coefficient double Local clustering coefficient"},{"location":"guide/parallel/#parallel-triangle-count","title":"Parallel Triangle Count","text":"<p>Count triangles per node using parallel computation:</p> <pre><code>select * from onager_par_triangles((select src, dst from edges));\n</code></pre> Column Type Description node_id bigint Node identifier triangles bigint Number of triangles containing node"},{"location":"guide/parallel/#performance-comparison","title":"Performance Comparison","text":"<p>Example on a 10M edge graph:</p> Algorithm Sequential Parallel Speedup BFS 2.1s 0.6s 3.5x Connected Components 3.2s 0.9s 3.6x Triangle Count 8.5s 2.2s 3.9x <p>Results vary based on graph structure and hardware.</p>"},{"location":"guide/parallel/#best-practices","title":"Best Practices","text":"<ol> <li>Thread count: Onager automatically uses available CPU cores</li> <li>Memory: Parallel algorithms require more memory for thread-local storage</li> <li>Graph density: Parallel algorithms provide more speedup on denser graphs</li> </ol>"},{"location":"guide/subgraphs/","title":"Subgraph Operations","text":"<p>Onager provides powerful subgraph extraction functions for exploring local graph structures around nodes of interest.</p>"},{"location":"guide/subgraphs/#ego-graph","title":"Ego Graph","text":"<p>Extract the ego network centered on a specific node within a given radius:</p> <pre><code>-- Get the 2-hop ego network around node 1\nselect *\nfrom onager_sub_ego_graph((select src, dst from edges), center := 1, radius := 2);\n</code></pre> <p>Returns the edges of the subgraph induced by nodes within <code>radius</code> hops of <code>center</code>.</p> Column Type Description src bigint Source node of each edge dst bigint Destination node of each edge"},{"location":"guide/subgraphs/#k-hop-neighbors","title":"K-Hop Neighbors","text":"<p>Find all nodes reachable within k steps from a starting node:</p> <pre><code>-- Get all nodes within 3 hops of node 1\nselect *\nfrom onager_sub_k_hop_neighbors((select src, dst from edges), start := 1, k := 3);\n</code></pre> Column Type Description node_id bigint Nodes reachable within k hops"},{"location":"guide/subgraphs/#induced-subgraph","title":"Induced Subgraph","text":"<p>Extract the subgraph induced by a specific set of nodes:</p> <pre><code>-- Get subgraph containing only nodes 1, 2, 3, 4\nwith node_set as (\n    select src, dst, filter_node\n    from edges, (values (1), (2), (3), (4)) as t(filter_node)\n)\nselect * from onager_sub_induced_subgraph(node_set);\n</code></pre> Column Type Description src bigint Source node of edges in induced subgraph dst bigint Destination node of edges in induced subgraph"},{"location":"guide/subgraphs/#use-cases","title":"Use Cases","text":""},{"location":"guide/subgraphs/#community-analysis","title":"Community Analysis","text":"<p>Combine ego networks with community detection to understand local structure:</p> <pre><code>-- Find ego network and its community structure\nwith ego as (\n    select * from onager_sub_ego_graph(\n        (select src, dst from edges), center := 42, radius := 2\n    )\n)\nselect * from onager_cmm_louvain(ego);\n</code></pre>"},{"location":"guide/subgraphs/#influence-propagation","title":"Influence Propagation","text":"<p>Use k-hop neighbors to find potential influence reach:</p> <pre><code>-- Find all users within 2 degrees of an influencer\nselect count(*) as reach\nfrom onager_sub_k_hop_neighbors(\n    (select follower as src, followed as dst from follows),\n    start := 12345, -- influencer ID\n    k := 2\n);\n</code></pre>"},{"location":"guide/traversal/","title":"Traversal &amp; Path Finding","text":"<p>Algorithms for exploring graphs and finding shortest paths.</p>"},{"location":"guide/traversal/#dijkstras-shortest-path","title":"Dijkstra's Shortest Path","text":"<p>Find shortest distances from a source node to all other nodes.</p> <pre><code>select * from onager_pth_dijkstra((select src, dst from edges), source := 1);\n</code></pre> Column Type Description node_id bigint Destination node distance double Distance from source (\u221e if unreachable)"},{"location":"guide/traversal/#breadth-first-search-bfs","title":"Breadth-First Search (BFS)","text":"<p>Explore nodes level by level from a source.</p> <pre><code>select * from onager_trv_bfs((select src, dst from edges), source := 1);\n</code></pre> Column Type Description node_id bigint Node in traversal order order bigint Discovery order (0 = source)"},{"location":"guide/traversal/#depth-first-search-dfs","title":"Depth-First Search (DFS)","text":"<p>Explore as deep as possible along each branch before backtracking.</p> <pre><code>select * from onager_trv_dfs((select src, dst from edges), source := 1);\n</code></pre>"},{"location":"guide/traversal/#example-reachable-nodes","title":"Example: Reachable Nodes","text":"<pre><code>-- Find all nodes reachable from node 1\nselect node_id from onager_trv_bfs((select src, dst from edges), source := 1);\n</code></pre>"},{"location":"reference/sql-functions/","title":"SQL Function Reference","text":"<p>Complete reference for all Onager SQL functions.</p>"},{"location":"reference/sql-functions/#graph-management-functions","title":"Graph Management Functions","text":"Function Returns Description <code>onager_create_graph(name, directed)</code> <code>integer</code> Create a named graph (0=success) <code>onager_drop_graph(name)</code> <code>integer</code> Delete a named graph <code>onager_add_node(graph, node_id)</code> <code>integer</code> Add a node to graph <code>onager_add_edge(graph, src, dst, weight)</code> <code>integer</code> Add a weighted edge <code>onager_list_graphs()</code> <code>varchar</code> List all graphs (JSON array) <code>onager_node_count(graph)</code> <code>bigint</code> Count nodes in graph <code>onager_edge_count(graph)</code> <code>bigint</code> Count edges in graph"},{"location":"reference/sql-functions/#scalar-query-functions","title":"Scalar Query Functions","text":"Function Returns Description <code>onager_node_in_degree(graph, node)</code> <code>bigint</code> In-degree of a node <code>onager_node_out_degree(graph, node)</code> <code>bigint</code> Out-degree of a node"},{"location":"reference/sql-functions/#centrality-functions-onager_ctr_","title":"Centrality Functions (<code>onager_ctr_*</code>)","text":"Function Returns Description <code>onager_ctr_pagerank(edges)</code> <code>node_id, rank</code> PageRank centrality <code>onager_ctr_degree(edges)</code> <code>node_id, in_degree, out_degree</code> Degree centrality <code>onager_ctr_betweenness(edges)</code> <code>node_id, betweenness</code> Betweenness centrality <code>onager_ctr_closeness(edges)</code> <code>node_id, closeness</code> Closeness centrality <code>onager_ctr_eigenvector(edges)</code> <code>node_id, eigenvector</code> Eigenvector centrality <code>onager_ctr_katz(edges, alpha)</code> <code>node_id, katz</code> Katz centrality <code>onager_ctr_harmonic(edges)</code> <code>node_id, harmonic</code> Harmonic centrality <code>onager_ctr_personalized_pagerank(...)</code> <code>node_id, rank</code> Personalized PageRank <code>onager_ctr_voterank(edges, num_seeds)</code> <code>node_id</code> VoteRank influential spreaders"},{"location":"reference/sql-functions/#community-detection-functions-onager_cmm_","title":"Community Detection Functions (<code>onager_cmm_*</code>)","text":"Function Returns Description <code>onager_cmm_louvain(edges [, seed])</code> <code>node_id, community</code> Louvain modularity optimization <code>onager_cmm_components(edges)</code> <code>node_id, component</code> Connected components <code>onager_cmm_label_prop(edges)</code> <code>node_id, label</code> Label propagation <code>onager_cmm_girvan_newman(edges, communities)</code> <code>node_id, community</code> Girvan-Newman edge betweenness <code>onager_cmm_spectral(edges, k)</code> <code>node_id, cluster</code> Spectral clustering <code>onager_cmm_infomap(edges)</code> <code>node_id, community</code> Infomap community detection"},{"location":"reference/sql-functions/#link-prediction-functions-onager_lnk_","title":"Link Prediction Functions (<code>onager_lnk_*</code>)","text":"Function Returns Description <code>onager_lnk_jaccard(edges)</code> <code>node1, node2, jaccard</code> Jaccard coefficient <code>onager_lnk_adamic_adar(edges)</code> <code>node1, node2, score</code> Adamic-Adar index <code>onager_lnk_pref_attach(edges)</code> <code>node1, node2, score</code> Preferential attachment <code>onager_lnk_resource_alloc(edges)</code> <code>node1, node2, score</code> Resource allocation"},{"location":"reference/sql-functions/#metric-functions-onager_mtr_","title":"Metric Functions (<code>onager_mtr_*</code>)","text":"Function Returns Description <code>onager_mtr_diameter(edges)</code> <code>diameter</code> Graph diameter <code>onager_mtr_radius(edges)</code> <code>radius</code> Graph radius <code>onager_mtr_avg_clustering(edges)</code> <code>avg_clustering</code> Average clustering coefficient <code>onager_mtr_avg_path_length(edges)</code> <code>avg_path_length</code> Average shortest path length <code>onager_mtr_transitivity(edges)</code> <code>transitivity</code> Global clustering (transitivity) <code>onager_mtr_triangles(edges)</code> <code>node_id, triangles</code> Triangle count per node <code>onager_mtr_assortativity(edges)</code> <code>assortativity</code> Degree assortativity coefficient"},{"location":"reference/sql-functions/#path-traversal-functions-onager_pth_-onager_trv_","title":"Path &amp; Traversal Functions (<code>onager_pth_*</code>, <code>onager_trv_*</code>)","text":"Function Returns Description <code>onager_pth_dijkstra(edges, source)</code> <code>node_id, distance</code> Shortest paths from source <code>onager_pth_bellman_ford(weighted_edges, source)</code> <code>node_id, distance</code> Shortest paths (negative weights) <code>onager_pth_floyd_warshall(weighted_edges)</code> <code>src, dst, distance</code> All-pairs shortest paths <code>onager_trv_bfs(edges, source)</code> <code>node_id, order</code> Breadth-first traversal <code>onager_trv_dfs(edges, source)</code> <code>node_id, order</code> Depth-first traversal"},{"location":"reference/sql-functions/#approximation-functions-onager_apx_","title":"Approximation Functions (<code>onager_apx_*</code>)","text":"Function Returns Description <code>onager_apx_max_clique(edges)</code> <code>node_id</code> Maximum clique (approximation) <code>onager_apx_independent_set(edges)</code> <code>node_id</code> Maximum independent set (approx) <code>onager_apx_vertex_cover(edges)</code> <code>node_id</code> Minimum vertex cover (approx)"},{"location":"reference/sql-functions/#minimum-spanning-tree-onager_mst_","title":"Minimum Spanning Tree (<code>onager_mst_*</code>)","text":"Function Returns Description <code>onager_mst_kruskal(weighted_edges)</code> <code>src, dst, weight</code> Kruskal's MST"},{"location":"reference/sql-functions/#generator-functions-onager_gen_","title":"Generator Functions (<code>onager_gen_*</code>)","text":"Function Returns Description <code>onager_gen_erdos_renyi(n, p [, seed])</code> <code>src, dst</code> Random graph (G(n,p)) <code>onager_gen_barabasi_albert(n, m [, seed])</code> <code>src, dst</code> Scale-free graph <code>onager_gen_watts_strogatz(n, k, beta [, seed])</code> <code>src, dst</code> Small-world graph"},{"location":"reference/sql-functions/#subgraph-operations-onager_sub_","title":"Subgraph Operations (<code>onager_sub_*</code>)","text":"Function Returns Description <code>onager_sub_ego_graph(edges, center, radius)</code> <code>src, dst</code> Ego graph around a node <code>onager_sub_k_hop(edges, start, k)</code> <code>node_id</code> Nodes within k hops <code>onager_sub_induced(edges, node_ids)</code> <code>src, dst</code> Induced subgraph"},{"location":"reference/sql-functions/#parallel-algorithms-onager_par_","title":"Parallel Algorithms (<code>onager_par_*</code>)","text":"Function Returns Description <code>onager_par_pagerank(edges)</code> <code>node_id, rank</code> Parallel PageRank <code>onager_par_bfs(edges, source)</code> <code>node_id</code> Parallel BFS traversal <code>onager_par_shortest_paths(edges, source)</code> <code>node_id, distance</code> Parallel shortest paths <code>onager_par_components(edges)</code> <code>node_id, component</code> Parallel connected components <code>onager_par_clustering(edges)</code> <code>node_id, coefficient</code> Parallel clustering coefficients <code>onager_par_triangles(edges)</code> <code>node_id, count</code> Parallel triangle count"},{"location":"reference/sql-functions/#utility-functions","title":"Utility Functions","text":"Function Returns Description <code>onager_version()</code> <code>varchar</code> Extension version <code>onager_last_error()</code> <code>varchar</code> Last error message"},{"location":"reference/sql-functions/#input-formats","title":"Input Formats","text":"<p>Table functions expect edges as a subquery with two <code>bigint</code> columns:</p> <pre><code>select * from onager_ctr_pagerank((select src, dst from my_edges));\n</code></pre> <p>Scalar functions operate on named graphs stored in the registry:</p> <pre><code>select onager_create_graph('social', true);\nselect onager_add_node('social', 1);\nselect onager_node_in_degree('social', 1);\n</code></pre>"}]}